schema: '2.0'
stages:
  get_data:
    cmd: python src/stage_01_get_data.py --config=configs/config.yaml
    deps:
    - path: configs/config.yaml
      md5: 367621209ecc5182306742d112a56337
      size: 512
    - path: src/stage_01_get_data.py
      md5: 39b02f94973a262a3a9e005ecc20d106
      size: 1541
    - path: src/utils/common.py
      md5: 34f83a5962e743120751579f9ebe166c
      size: 1987
    outs:
    - path: data/Cat
      md5: 2d5287b1144a1f2525e08270ecc0295d.dir
      size: 4424672
      nfiles: 152
    - path: data/Dog
      md5: 98dc7961696ec010808eaf43de00504e.dir
      size: 5905706
      nfiles: 153
  prepare_base_model:
    cmd: python src/stage_02_prepare_base_model.py --config=configs/config.yaml --params=params.yaml
    deps:
    - path: configs/config.yaml
      md5: 367621209ecc5182306742d112a56337
      size: 512
    - path: src/stage_02_prepare_base_model.py
      md5: 036b0ea1aaaf915b8bfe35d8f0522391
      size: 2418
    - path: src/utils/common.py
      md5: 34f83a5962e743120751579f9ebe166c
      size: 1987
    - path: src/utils/model.py
      md5: e10d6218e271a7f6cec3e5c84e8e34d2
      size: 3323
    params:
      params.yaml:
        IMAGE_SIZE:
        - 224
        - 224
        - 3
        LEARNING_RATE: 0.001
    outs:
    - path: artifacts/base_model/base_model.h5
      md5: 3ede9a667d73b847eea8b8ed38c3b2b5
      size: 58920272
    - path: artifacts/base_model/updated_base_model.h5
      md5: b748f17a8c18dcf6025ce6ae0b0e25a7
      size: 59132008
  prepare_callback:
    cmd: python src/stage_03_prepare_callback.py --config=configs/config.yaml
    deps:
    - path: configs/config.yaml
      md5: 367621209ecc5182306742d112a56337
      size: 512
    - path: params.yaml
      md5: 2104ccf4d3f8afd0fb51ac39f84548a8
      size: 217
    - path: src/stage_03_prepare_callback.py
      md5: e2f32043503be08aa30adde06524fc84
      size: 1691
    - path: src/utils/callbacks.py
      md5: 739c6b221a30151c9c3154f4c66b21d9
      size: 2104
    - path: src/utils/common.py
      md5: 34f83a5962e743120751579f9ebe166c
      size: 1987
    outs:
    - path: artifacts/callbacks/checkpoint_cb.cb
      md5: fa4abcae7e340415ddfaabd96efa85bb
      size: 869
    - path: artifacts/callbacks/tensorboard_cb.cb
      md5: 282babd10d16f7a4ff9b53a19c2b4a8b
      size: 682
  train:
    cmd: python src/stage_04_train.py --config=configs/config.yaml --params=params.yaml
    deps:
    - path: artifacts/base_model/updated_base_model.h5
      md5: b748f17a8c18dcf6025ce6ae0b0e25a7
      size: 59132008
    - path: artifacts/callbacks/checkpoint_cb.cb
      md5: fa4abcae7e340415ddfaabd96efa85bb
      size: 869
    - path: artifacts/callbacks/tensorboard_cb.cb
      md5: 282babd10d16f7a4ff9b53a19c2b4a8b
      size: 682
    - path: configs/config.yaml
      md5: 367621209ecc5182306742d112a56337
      size: 512
    - path: data/Cat
      md5: 2d5287b1144a1f2525e08270ecc0295d.dir
      size: 4424672
      nfiles: 152
    - path: data/Dog
      md5: 98dc7961696ec010808eaf43de00504e.dir
      size: 5905706
      nfiles: 153
    - path: src/stage_04_train.py
      md5: 2ba7493cfdc459d486dc54460d928e43
      size: 3138
    - path: src/utils/callbacks.py
      md5: 739c6b221a30151c9c3154f4c66b21d9
      size: 2104
    - path: src/utils/common.py
      md5: 34f83a5962e743120751579f9ebe166c
      size: 1987
    - path: src/utils/data_management.py
      md5: 1f15238ff7d545041fec79b2d3bf7468
      size: 2048
    - path: src/utils/model.py
      md5: e10d6218e271a7f6cec3e5c84e8e34d2
      size: 3323
    params:
      params.yaml:
        AUGMENTATION: true
        BATCH_SIZE: 16
        EPOCHS: 2
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: artifacts/checkpoints
      md5: f09c6273cab99d9c7172c037e6b2b99f.dir
      size: 59134488
      nfiles: 1
    - path: artifacts/model
      md5: 68d0b80e7f8656a0d79ab39d0793bb2f.dir
      size: 59134488
      nfiles: 1
    - path: artifacts/tensorboard_log_dir
      md5: 11c92dd88d94c3eea50f81b0358eab2e.dir
      size: 128174
      nfiles: 10
